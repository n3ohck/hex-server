# ===========================================
# CONFIGURACIÓN DEL SERVIDOR DE NOTIFICACIONES
# ===========================================

# Puerto del servidor (opcional, default: 3001)
PORT=3001

# Orígenes CORS permitidos (separados por comas)
# Deja vacío para permitir todos los orígenes
CORS_ORIGINS=http://localhost:3000,https://tu-dominio.com

# ===========================================
# AUTENTICACIÓN
# ===========================================

# Token compartido para autenticación simple (opcional)
# Si se configura, permite autenticación rápida con userId explícito
SOCKET_TOKEN=tu-token-compartido-seguro

# Clave pública JWT para verificar tokens (opcional)
# Formato PEM con saltos de línea como \n
JWT_PUBLIC_KEY=-----BEGIN PUBLIC KEY-----\nMIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEA...\n-----END PUBLIC KEY-----

# ===========================================
# INTEGRACIÓN CON LARAVEL (OPCIONAL)
# ===========================================

# URL del endpoint de introspección de Laravel
LARAVEL_INTROSPECT_URL=https://tu-api-laravel.com/api/user/introspect

# Bearer token para autenticación interna con Laravel
LARAVEL_INTROSPECT_BEARER=tu-bearer-token-laravel

# ===========================================
# TOKEN INTERNO PARA APIs REST
# ===========================================

# Token requerido para usar las APIs REST (/v1/emit, etc.)
# Debe ser un token seguro y largo
INTERNAL_TOKEN=tu-token-interno-super-seguro-y-largo

# ===========================================
# CONFIGURACIÓN DE PRODUCCIÓN
# ===========================================

# Entorno de ejecución
NODE_ENV=development

# ===========================================
# NOTAS DE CONFIGURACIÓN
# ===========================================

# 1. MÉTODOS DE AUTENTICACIÓN (en orden de prioridad):
#    - Token compartido + userId explícito (SOCKET_TOKEN)
#    - JWT con clave pública (JWT_PUBLIC_KEY)
#    - Introspección contra Laravel (LARAVEL_INTROSPECT_URL)

# 2. CORS_ORIGINS: Si está vacío, permite todos los orígenes.
#    En producción, especifica solo los dominios permitidos.

# 3. INTERNAL_TOKEN: Usado para autenticar las llamadas a las APIs REST.
#    Debe ser el mismo token que uses en tu aplicación principal.

# 4. Para desarrollo local, puedes usar solo SOCKET_TOKEN y INTERNAL_TOKEN.

# ===========================================
# MONGODB
# ===========================================
# URI de conexión a MongoDB (deja vacío para deshabilitar persistencia)
MONGO_URI=mongodb://localhost:27017/notify
